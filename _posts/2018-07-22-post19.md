---
layout: post
title: study180722
---

<h3>adb dumpsys</h3>

이제 전체적인 액티비티 매니저의 구조를 파악하였기 때문에, 실제 어플리케이션이 구동되는 환경에서
<br />각각의 액티비티, 태스크, 액티비티 스택 등이 어떻게 변하는 지 알아보기 위해서 실제 디바이스를 통해 분석을 해보았다. 
<br />분석을 진행한 환경은 윈도우 환경에서의 ADB(Android Debug Bridge) , 갤럭시노트5 를 이용하였다.
<br />전체적인 시나리오를 구성하여, 해당 시나리오대로 진행하면서 분석을 하였다. 그 시나리오는 아래와 같다.

1. 부팅
2. 카카오톡 실행
3. 홈 -> 인터넷 브라우저 실행
4. 카카오톡에서 유튜브 링크 클릭
5. 메세지에서 유튜브 링크 클릭

1. 기기 부팅 직후 task
![기기 부팅 직후](https://user-images.githubusercontent.com/38378136/43496734-ea094b54-9579-11e8-8083-bf976688abdd.PNG)

리센트 태스크 리스트의 넘버링은 가장 최근에 실행된 태스크가 0번이 되고, 그 전에 있던 태스크들은 번호가 하나씩 밀려난다.    
2번 태스크는 홈 런처의 태스크이다. 따라서 0번 액티비티 스택, 즉 홈스택에 들어 있다.
<br />4번 태스크는 briefing 이라는 기능을 사용하기 위한 태스크인데, 특수한 액티비티 스택을 만들어낸다.
<br />5번 태스크와 1번 태스크는 1번 액티비티스택에 들어가 있다고 나오는데, 1번 액티비티 스택은 어플리케이션 스택으로
<br />아직은 만들어져있지 않다. 위 2개의 태스크는 특수한 목적을 위해 만들어진 태스크로 보인다.


* * *
